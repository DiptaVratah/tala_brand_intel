---
phase: 02-interface-differentiation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - pulsecraft_ui/shapeshifter.js
  - pulsecraft_ui/progressive.js
autonomous: true

must_haves:
  truths:
    - "Voice Kit is called 'Brand Kit' in Branding mode"
    - "Voice Kit is called 'Voice Kit' in Author mode"
    - "Voice Kit is called 'Identity Profile' in Self-Reflection mode"
    - "Analyze button says 'Build Brand Voice' in Branding mode"
    - "Drift metric uses mode-appropriate labels"
    - "Progressive phase names adapt per mode"
  artifacts:
    - path: "pulsecraft_ui/shapeshifter.js"
      provides: "Extended LANGUAGE_MATRIX with all mode terminology"
      contains: "voiceKitName"
    - path: "pulsecraft_ui/progressive.js"
      provides: "Mode-aware phase naming"
      contains: "getPhaseLabel"
  key_links:
    - from: "shapeshifter.js LANGUAGE_MATRIX"
      to: "UI elements"
      via: "translateInterface()"
      pattern: "LANGUAGE_MATRIX\\[this\\.mode\\]"
---

<objective>
Extend LANGUAGE_MATRIX with complete mode-specific terminology and add progressive phase language adaptation.

Purpose: Implements requirements INTF-01 through INTF-06 covering Voice Kit naming, action framing, metrics terminology, and progressive phase names. This is the language foundation all contextual UI depends on.

Output: Fully extended LANGUAGE_MATRIX with all terminology from CONTEXT.md decisions, and progressive.js adapted to use mode-specific phase names.
</objective>

<execution_context>
@/Users/dipta/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dipta/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-interface-differentiation/02-CONTEXT.md
@.planning/phases/02-interface-differentiation/02-RESEARCH.md
@pulsecraft_ui/shapeshifter.js
@pulsecraft_ui/progressive.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend LANGUAGE_MATRIX with complete terminology</name>
  <files>pulsecraft_ui/shapeshifter.js</files>
  <action>
Extend LANGUAGE_MATRIX in shapeshifter.js for each mode (branding, author, therapy) with the following NEW keys based on CONTEXT.md decisions:

For ALL modes, add these new keys:

```javascript
// Voice Kit naming (per CONTEXT.md)
voiceKitName: 'Brand Kit',  // or 'Voice Kit' or 'Identity Profile'

// Core action framing (per CONTEXT.md)
coreAction: 'Build Brand Voice',  // or 'Craft Writing Voice' or 'Discover Inner Voice'

// Drift & Stability metrics (per CONTEXT.md)
consistencyLabel: 'Brand Consistency',  // or 'Narrative Stability' or 'Inner Alignment'
driftLabel: 'Brand Drift',  // or 'Voice Shift' or 'Personal Change'

// DNA terminology
dnaLabel: 'Brand DNA',  // or 'Voice DNA' or 'Identity DNA'

// Generation action labels (per CONTEXT.md)
generateAction: 'Create',  // or 'Write' or 'Reflect'
generateButtonText: 'Create Brand Content',  // or 'Write in Your Voice' or 'Generate Reflection'

// Empty state messaging
emptyStateTitle: 'No Brand Kits Yet',  // adapt per mode
emptyStateMessage: 'Create your first Brand Kit to define your authentic brand voice.',
emptyStateCTA: 'Create First Brand Kit',

// Placeholder text (per CONTEXT.md - action-focused)
inputPlaceholder: 'Add content that represents your brand voice',  // adapt per mode

// Progressive phase names (per CONTEXT.md - fully adapt)
phaseNames: {
  1: 'Build',  // or 'Craft' or 'Discover'
  2: 'Brand Refinery',  // or 'Voice Workshop' or 'Identity Studio'
  3: 'Brand Studio',  // or 'Story Forge' or 'Reflection Space'
  4: 'Brand Alchemy',  // or 'Voice Alchemy' or 'Identity Alchemy'
  5: 'Brand Observatory'  // or 'Voice Observatory' or 'Inner Observatory'
}
```

Complete values for branding mode:
```javascript
branding: {
  // ...existing keys...
  voiceKitName: 'Brand Kit',
  coreAction: 'Build Brand Voice',
  consistencyLabel: 'Brand Consistency',
  driftLabel: 'Brand Drift',
  dnaLabelFull: 'Brand DNA',
  generateAction: 'Create',
  generateButtonText: 'Create Brand Content',
  emptyStateTitle: 'No Brand Kits Yet',
  emptyStateMessage: 'Create your first Brand Kit to define your authentic brand voice and ensure consistency across all content.',
  emptyStateCTA: 'Create First Brand Kit',
  inputPlaceholder: 'Add content that represents your brand voice',
  phaseNames: {
    1: 'Build',
    2: 'Brand Refinery',
    3: 'Brand Studio',
    4: 'Brand Alchemy',
    5: 'Brand Observatory'
  }
}
```

Complete values for author mode:
```javascript
author: {
  // ...existing keys...
  voiceKitName: 'Voice Kit',
  coreAction: 'Craft Writing Voice',
  consistencyLabel: 'Narrative Stability',
  driftLabel: 'Voice Shift',
  dnaLabelFull: 'Voice DNA',
  generateAction: 'Write',
  generateButtonText: 'Write in Your Voice',
  emptyStateTitle: 'No Voice Kits Yet',
  emptyStateMessage: 'Create your first Voice Kit to capture your unique writing style and maintain narrative consistency.',
  emptyStateCTA: 'Create First Voice Kit',
  inputPlaceholder: 'Share writing that sounds like you',
  phaseNames: {
    1: 'Craft',
    2: 'Voice Workshop',
    3: 'Story Forge',
    4: 'Voice Alchemy',
    5: 'Voice Observatory'
  }
}
```

Complete values for therapy mode:
```javascript
therapy: {
  // ...existing keys...
  voiceKitName: 'Identity Profile',
  coreAction: 'Discover Inner Voice',
  consistencyLabel: 'Inner Alignment',
  driftLabel: 'Personal Change',
  dnaLabelFull: 'Identity DNA',
  generateAction: 'Reflect',
  generateButtonText: 'Generate Reflection',
  emptyStateTitle: 'No Identity Profiles Yet',
  emptyStateMessage: 'Create your first Identity Profile to explore your authentic expression and track your personal voice evolution.',
  emptyStateCTA: 'Create First Profile',
  inputPlaceholder: 'Express what\'s on your mind',
  phaseNames: {
    1: 'Discover',
    2: 'Identity Studio',
    3: 'Reflection Space',
    4: 'Identity Alchemy',
    5: 'Inner Observatory'
  }
}
```

WHY: Centralizing all mode-specific language in LANGUAGE_MATRIX ensures consistency and makes future updates simple. Phase names implement CONTEXT.md decision to "fully adapt per mode."
  </action>
  <verify>
In browser console, run:
```javascript
console.log(window.pulsecraftShapeshifter.LANGUAGE_MATRIX.branding.voiceKitName);  // Should print "Brand Kit"
console.log(window.pulsecraftShapeshifter.LANGUAGE_MATRIX.author.phaseNames[2]);  // Should print "Voice Workshop"
console.log(window.pulsecraftShapeshifter.LANGUAGE_MATRIX.therapy.consistencyLabel);  // Should print "Inner Alignment"
```
  </verify>
  <done>
LANGUAGE_MATRIX contains all mode-specific terminology for Voice Kit naming, actions, metrics, empty states, placeholders, and phase names.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update translateInterface to use new terminology</name>
  <files>pulsecraft_ui/shapeshifter.js</files>
  <action>
Extend the `translateInterface()` method to use the new LANGUAGE_MATRIX keys. Add new selectors for elements that need mode-specific text:

Add these to the `updates` object in translateInterface():

```javascript
// Voice Kit naming in various contexts
'.voice-kit-label': lang.voiceKitName,
'.consistency-label': lang.consistencyLabel,
'.drift-label': lang.driftLabel,

// DNA section
'.dna-container h3': lang.dnaLabelFull || lang.dnaLabel,

// Generation section
'#writeItForMeButton .btn-text': lang.generateButtonText,
'#writeItForMeButton': lang.generateButtonText,

// Empty state (add data-text-key attributes to HTML later)
'.empty-state-title': lang.emptyStateTitle,
'.empty-state-message': lang.emptyStateMessage,
'.empty-state-cta': lang.emptyStateCTA,

// Update analyze button with core action
'#mirrorVoiceButton .btn-text': lang.coreAction || lang.analyzeButton,

// Observatory labels (update existing)
'.resonance-label': lang.consistencyLabel,
```

Also update the existing analyzeButton mapping to use coreAction if available:
```javascript
'#mirrorVoiceButton .btn-text': lang.coreAction || lang.analyzeButton,
```

WHY: translateInterface is called on every mode change, so adding new selectors automatically propagates terminology changes throughout the UI.
  </action>
  <verify>
Navigate to /branding, check that:
1. "Mirror My Voice" button shows "Build Brand Voice"
2. DNA section header shows "Brand DNA"
Navigate to /author, verify "Craft Writing Voice" on button.
Navigate to /self-reflection, verify "Discover Inner Voice" on button.
  </verify>
  <done>
translateInterface uses all new LANGUAGE_MATRIX keys, buttons and labels update per mode.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add mode-aware phase naming to progressive.js</name>
  <files>pulsecraft_ui/progressive.js</files>
  <action>
Add a helper method to progressive.js that retrieves phase names from LANGUAGE_MATRIX:

```javascript
// Add this method to ProgressiveRevealSystem class
getPhaseLabel(phaseNumber) {
    // Get current mode from shapeshifter
    const currentMode = window.pulsecraftShapeshifter ? window.pulsecraftShapeshifter.mode : 'branding';
    const lang = window.pulsecraftShapeshifter?.LANGUAGE_MATRIX?.[currentMode];

    // Fallback phase names if LANGUAGE_MATRIX not available
    const fallbackNames = {
        1: 'Mirror',
        2: 'Recognition',
        3: 'Expansion',
        4: 'Alchemy',
        5: 'Observatory'
    };

    return lang?.phaseNames?.[phaseNumber] || fallbackNames[phaseNumber] || `Phase ${phaseNumber}`;
}
```

Update the `updateFooter()` method to use mode-specific phase names:

```javascript
updateFooter() {
    const footer = document.querySelector('.phase-footer p, #footerText');
    if (!footer) return;

    const currentMode = window.pulsecraftShapeshifter ? window.pulsecraftShapeshifter.mode : 'branding';
    const lang = window.pulsecraftShapeshifter?.LANGUAGE_MATRIX?.[currentMode];

    const messages = {
        1: `${this.getPhaseLabel(1)}: Express your authentic voice...`,
        2: `${this.getPhaseLabel(2)}: Your voice revealed. Save to unlock creation.`,
        3: `${this.getPhaseLabel(3)}: ${lang?.voiceKitName || 'Voice Kit'} active. Create and explore.`,
        4: `${this.getPhaseLabel(4)}: Combine voices to discover emergent patterns.`,
        5: `${this.getPhaseLabel(5)}: Witness your evolution across time.`
    };

    footer.textContent = messages[this.currentPhase] || messages[1];
}
```

WHY: Phase names should reflect the mode context. "Brand Refinery" feels different from "Identity Studio" - this subtle language shift reinforces the interface personality.
  </action>
  <verify>
Navigate to /branding, trigger phase 2 by analyzing some text. Check footer shows "Brand Refinery: Your voice revealed..."
Navigate to /author, verify footer shows "Voice Workshop: Your voice revealed..."
  </verify>
  <done>
Progressive phase names and footer messages adapt to current mode using LANGUAGE_MATRIX.
  </done>
</task>

</tasks>

<verification>
1. Check LANGUAGE_MATRIX contains all required keys for all three modes
2. Navigate to each mode and verify button text changes appropriately
3. Verify DNA section header changes per mode
4. Verify footer messages use mode-specific phase names
5. Verify consistency/drift labels use mode-specific terminology
</verification>

<success_criteria>
- Branding mode shows: Brand Kit, Build Brand Voice, Brand Consistency, Brand Drift, Brand DNA, Create Brand Content
- Author mode shows: Voice Kit, Craft Writing Voice, Narrative Stability, Voice Shift, Voice DNA, Write in Your Voice
- Self-Reflection mode shows: Identity Profile, Discover Inner Voice, Inner Alignment, Personal Change, Identity DNA, Generate Reflection
- Progressive phases use mode-specific names (Build vs Craft vs Discover, etc.)
- Footer messages incorporate mode-specific terminology
</success_criteria>

<output>
After completion, create `.planning/phases/02-interface-differentiation/02-02-SUMMARY.md`
</output>
